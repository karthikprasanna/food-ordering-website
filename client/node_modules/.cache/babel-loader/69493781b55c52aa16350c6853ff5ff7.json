{"ast":null,"code":"var _jsxFileName = \"/home/karthik_prasanna/Desktop/arathy/frontend/src/components/vendor/actiondispatch.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Button } from 'react-bootstrap';\n\nfunction ActionDispatch(props) {\n  let productID = \"\";\n  let orderID = \"\";\n  const [product, setProduct] = useState(\"\");\n  const [order, setOrder] = useState(\"\");\n  const [quantity, setQuantity] = useState(0);\n  const [allOrders, setAllOrders] = useState([]);\n  const [allUsers, setAllUsers] = useState([]);\n  useEffect(() => {\n    orderID = localStorage.getItem(\"DASS_ITEMID\");\n    console.log(\"OID:\", orderID);\n    axios.get('http://localhost:4000/order/' + orderID).then(response => {\n      console.log(response.data);\n      setOrder(response.data);\n    }); // also get the list of all the users\n\n    axios.get('http://localhost:4000/user/getnames/').then(response => {\n      setAllUsers(response.data);\n    });\n  }, []);\n  const order_decrement = {\n    order_value: order.quantity\n  };\n  productID = order.product;\n\n  function REJECTED() {\n    if (order.status == \"COMPLETED\") {\n      document.getElementById(\"comments\").innerHTML = \"Already completed\";\n      document.getElementById(\"comments\").className = \"alert alert-danger alert-dismissible fade show\";\n    } else {\n      productID = localStorage.getItem(\"DASS_ITEMID\");\n      const new_status = {\n        status: \"REJECTED\"\n      };\n      axios.put('http://localhost:4000/order/change_status/' + orderID, new_status).then(res => {\n        document.getElementById(\"comments\").innerHTML = \"REJECTED successfully\";\n        document.getElementById(\"comments\").className = \"alert alert-success alert-dismissible fade show\";\n        order.status = \"REJECTED\";\n        axios.put('http://localhost:4000/product/reset_quantity/' + productID).then(res => {\n          window.location.replace('/products');\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }\n\n  function COMPLETED() {\n    orderID = localStorage.getItem(\"DASS_ITEMID\");\n\n    if (order.status == \"REJECTED\") {\n      document.getElementById(\"comments\").innerHTML = \"REJECTED Order\";\n      document.getElementById(\"comments\").className = \"alert alert-danger alert-dismissible fade show\";\n    } else if (order.status == \"COMPLETED\") {\n      document.getElementById(\"comments\").innerHTML = \"Already COMPLETED\";\n      document.getElementById(\"comments\").className = \"alert alert-danger alert-dismissible fade show\";\n    } else {\n      const new_status = {\n        status: \"COMPLETED\"\n      };\n      axios.put('http://localhost:4000/order/change_status/' + orderID, new_status).then(res => {\n        document.getElementById(\"comments\").innerHTML = \"COMPLETED successfully\";\n        document.getElementById(\"comments\").className = \"alert alert-success alert-dismissible fade show\";\n        order.status = \"COMPLETED\";\n        axios.put('http://localhost:4000/product/order_decrement/' + productID, order_decrement).then(res => {\n          console.log(\"Decremented successfully \"); // document.getElementById(\"comments\").innerHTML=\"Ordered successfully \"\n\n          window.location.replace('/orders');\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }\n\n  function ACCEPTED() {\n    orderID = localStorage.getItem(\"DASS_ITEMID\");\n\n    if (order.status == \"REJECTED\") {\n      document.getElementById(\"comments\").innerHTML = \"REJECTED Order\";\n      document.getElementById(\"comments\").className = \"alert alert-danger alert-dismissible fade show\";\n    } else if (order.status == \"COMPLETED\") {\n      document.getElementById(\"comments\").innerHTML = \"Already COMPLETED\";\n      document.getElementById(\"comments\").className = \"alert alert-danger alert-dismissible fade show\";\n    } else {\n      const new_status = {\n        status: \"ACCEPTED\"\n      };\n      axios.put('http://localhost:4000/order/change_status/' + orderID, new_status).then(res => {\n        document.getElementById(\"comments\").innerHTML = \"ACCEPTED successfully\";\n        document.getElementById(\"comments\").className = \"alert alert-success alert-dismissible fade show\";\n        order.status = \"ACCEPTED\";\n        window.location.replace('/products');\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }\n\n  function COOKING() {\n    orderID = localStorage.getItem(\"DASS_ITEMID\");\n\n    if (order.status == \"REJECTED\") {\n      document.getElementById(\"comments\").innerHTML = \"REJECTED Order\";\n      document.getElementById(\"comments\").className = \"alert alert-danger alert-dismissible fade show\";\n    } else if (order.status == \"COMPLETED\") {\n      document.getElementById(\"comments\").innerHTML = \"Already COMPLETED\";\n      document.getElementById(\"comments\").className = \"alert alert-danger alert-dismissible fade show\";\n    } else {\n      const new_status = {\n        status: \"COOKING\"\n      };\n      axios.put('http://localhost:4000/order/change_status/' + orderID, new_status).then(res => {\n        document.getElementById(\"comments\").innerHTML = \"COOKING successfully\";\n        document.getElementById(\"comments\").className = \"alert alert-success alert-dismissible fade show\";\n        order.status = \"COOKING\";\n        window.location.replace('/products');\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }\n\n  function READY_FOR_PICKUP() {\n    orderID = localStorage.getItem(\"DASS_ITEMID\");\n\n    if (order.status == \"REJECTED\") {\n      document.getElementById(\"comments\").innerHTML = \"REJECTED Order\";\n      document.getElementById(\"comments\").className = \"alert alert-danger alert-dismissible fade show\";\n    } else if (order.status == \"COMPLETED\") {\n      document.getElementById(\"comments\").innerHTML = \"Already COMPLETED\";\n      document.getElementById(\"comments\").className = \"alert alert-danger alert-dismissible fade show\";\n    } else {\n      const new_status = {\n        status: \"READY FOR PICKUP\"\n      };\n      axios.put('http://localhost:4000/order/change_status/' + orderID, new_status).then(res => {\n        document.getElementById(\"comments\").innerHTML = \"READY FOR PICKUP successfully\";\n        document.getElementById(\"comments\").className = \"alert alert-success alert-dismissible fade show\";\n        order.status = \"READY FOR PICKUP\";\n        window.location.replace('/products');\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188\n    },\n    __self: this\n  }, React.createElement(Button, {\n    variant: \"success\",\n    onClick: ACCEPTED,\n    value: ACCEPTED,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189\n    },\n    __self: this\n  }, \"ACCEPTED\"), React.createElement(Button, {\n    variant: \"danger\",\n    onClick: REJECTED,\n    value: REJECTED,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190\n    },\n    __self: this\n  }, \"REJECTED\"), React.createElement(Button, {\n    variant: \"info\",\n    onClick: COOKING,\n    value: COOKING,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191\n    },\n    __self: this\n  }, \"COOKING\"), React.createElement(Button, {\n    variant: \"info\",\n    onClick: READY_FOR_PICKUP,\n    value: READY_FOR_PICKUP,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192\n    },\n    __self: this\n  }, \"READY FOR PICKUP\"), React.createElement(Button, {\n    variant: \"info\",\n    onClick: COMPLETED,\n    value: COMPLETED,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  }, \"COMPLETED\"), React.createElement(\"div\", {\n    id: \"comments\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194\n    },\n    __self: this\n  }));\n}\n\nexport default ActionDispatch;","map":{"version":3,"sources":["/home/karthik_prasanna/Desktop/arathy/frontend/src/components/vendor/actiondispatch.js"],"names":["React","useState","useEffect","axios","Button","ActionDispatch","props","productID","orderID","product","setProduct","order","setOrder","quantity","setQuantity","allOrders","setAllOrders","allUsers","setAllUsers","localStorage","getItem","console","log","get","then","response","data","order_decrement","order_value","REJECTED","status","document","getElementById","innerHTML","className","new_status","put","res","window","location","replace","catch","error","COMPLETED","ACCEPTED","COOKING","READY_FOR_PICKUP"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Button } from 'react-bootstrap';\n\nfunction ActionDispatch(props) {\n    let productID = \"\"\n    let orderID = \"\"\n    const [product, setProduct] = useState(\"\")\n    const [order, setOrder] = useState(\"\")\n    const [quantity, setQuantity] = useState(0)\n    const [allOrders, setAllOrders] = useState([])\n    const [allUsers, setAllUsers] = useState([])\n\n    useEffect(() => {\n        orderID = localStorage.getItem(\"DASS_ITEMID\")\n        console.log(\"OID:\", orderID)\n        axios.get('http://localhost:4000/order/' + orderID)\n            .then(response => {\n                console.log(response.data)\n                setOrder(response.data);\n            })\n        // also get the list of all the users\n        axios.get('http://localhost:4000/user/getnames/')\n            .then(response => {\n                setAllUsers(response.data)\n            })\n    }, []);\n\n   const order_decrement = {\n       order_value: order.quantity\n   }\n\n   productID = order.product;\n        \n\n    function REJECTED() {\n        if (order.status == \"COMPLETED\") {\n            document.getElementById(\"comments\").innerHTML = \"Already completed\"\n            document.getElementById(\"comments\").className = \"alert alert-danger alert-dismissible fade show\"\n        }\n        else {\n            productID = localStorage.getItem(\"DASS_ITEMID\")\n            const new_status = {\n                status: \"REJECTED\"\n            }\n            axios.put('http://localhost:4000/order/change_status/' + orderID, new_status).then(\n                res => {\n                    document.getElementById(\"comments\").innerHTML = \"REJECTED successfully\"\n                    document.getElementById(\"comments\").className = \"alert alert-success alert-dismissible fade show\"\n                    order.status = \"REJECTED\"\n                    axios.put('http://localhost:4000/product/reset_quantity/' + productID).then(\n                        res => {\n                            window.location.replace('/products')\n                        })\n                        .catch(function (error) {\n                            console.log(error);\n                        });\n                })\n                .catch(function (error) {\n                    console.log(error);\n                });\n        }\n    }\n\n    function COMPLETED() {\n        orderID = localStorage.getItem(\"DASS_ITEMID\")\n       if (order.status == \"REJECTED\") {\n            document.getElementById(\"comments\").innerHTML = \"REJECTED Order\"\n            document.getElementById(\"comments\").className = \"alert alert-danger alert-dismissible fade show\"\n        }\n        else if (order.status == \"COMPLETED\") {\n            document.getElementById(\"comments\").innerHTML = \"Already COMPLETED\"\n            document.getElementById(\"comments\").className = \"alert alert-danger alert-dismissible fade show\"\n        }\n        else {\n            const new_status = {\n                status: \"COMPLETED\"\n            }\n            axios.put('http://localhost:4000/order/change_status/' + orderID, new_status).then(\n                res => {\n                    document.getElementById(\"comments\").innerHTML = \"COMPLETED successfully\"\n                    document.getElementById(\"comments\").className = \"alert alert-success alert-dismissible fade show\"\n                    order.status = \"COMPLETED\"\n                    axios.put('http://localhost:4000/product/order_decrement/' + productID, order_decrement).then(\n\n                        res => {\n                            console.log(\"Decremented successfully \")\n                            // document.getElementById(\"comments\").innerHTML=\"Ordered successfully \"\n                            window.location.replace('/orders')\n                        })\n                        .catch(function (error) {\n                            console.log(error);\n                        });\n                })\n                .catch(function (error) {\n                    console.log(error);\n                });\n        }\n    }\n    \n    function ACCEPTED() {\n        orderID = localStorage.getItem(\"DASS_ITEMID\")\n       if (order.status == \"REJECTED\") {\n            document.getElementById(\"comments\").innerHTML = \"REJECTED Order\"\n            document.getElementById(\"comments\").className = \"alert alert-danger alert-dismissible fade show\"\n        }\n        else if (order.status == \"COMPLETED\") {\n            document.getElementById(\"comments\").innerHTML = \"Already COMPLETED\"\n            document.getElementById(\"comments\").className = \"alert alert-danger alert-dismissible fade show\"\n        }\n        else {\n            const new_status = {\n                status: \"ACCEPTED\"\n            }\n            axios.put('http://localhost:4000/order/change_status/' + orderID, new_status).then(\n                res => {\n                    document.getElementById(\"comments\").innerHTML = \"ACCEPTED successfully\"\n                    document.getElementById(\"comments\").className = \"alert alert-success alert-dismissible fade show\"\n                    order.status = \"ACCEPTED\"\n                    window.location.replace('/products')\n\n                })\n                .catch(function (error) {\n                    console.log(error);\n                });\n        }\n    }\n\n    function COOKING() {\n        orderID = localStorage.getItem(\"DASS_ITEMID\")\n       if (order.status == \"REJECTED\") {\n            document.getElementById(\"comments\").innerHTML = \"REJECTED Order\"\n            document.getElementById(\"comments\").className = \"alert alert-danger alert-dismissible fade show\"\n        }\n        else if (order.status == \"COMPLETED\") {\n            document.getElementById(\"comments\").innerHTML = \"Already COMPLETED\"\n            document.getElementById(\"comments\").className = \"alert alert-danger alert-dismissible fade show\"\n        }\n        else {\n            const new_status = {\n                status: \"COOKING\"\n            }\n            axios.put('http://localhost:4000/order/change_status/' + orderID, new_status).then(\n                res => {\n                    document.getElementById(\"comments\").innerHTML = \"COOKING successfully\"\n                    document.getElementById(\"comments\").className = \"alert alert-success alert-dismissible fade show\"\n                    order.status = \"COOKING\"\n                    window.location.replace('/products')\n\n                })\n                .catch(function (error) {\n                    console.log(error);\n                });\n        }\n    }\n\n    function READY_FOR_PICKUP() {\n        orderID = localStorage.getItem(\"DASS_ITEMID\")\n        if (order.status == \"REJECTED\") {\n            document.getElementById(\"comments\").innerHTML = \"REJECTED Order\"\n            document.getElementById(\"comments\").className = \"alert alert-danger alert-dismissible fade show\"\n        }\n        else if (order.status == \"COMPLETED\") {\n            document.getElementById(\"comments\").innerHTML = \"Already COMPLETED\"\n            document.getElementById(\"comments\").className = \"alert alert-danger alert-dismissible fade show\"\n        }\n        else {\n            const new_status = {\n                status: \"READY FOR PICKUP\"\n            }\n            axios.put('http://localhost:4000/order/change_status/' + orderID, new_status).then(\n                res => {\n                    document.getElementById(\"comments\").innerHTML = \"READY FOR PICKUP successfully\"\n                    document.getElementById(\"comments\").className = \"alert alert-success alert-dismissible fade show\"\n                    order.status = \"READY FOR PICKUP\"\n                    window.location.replace('/products')\n\n                })\n                .catch(function (error) {\n                    console.log(error);\n                });\n        }\n    }\n\n    \n            return (\n               \n                    <div>\n                         <Button variant=\"success\" onClick={ACCEPTED} value={ACCEPTED}>ACCEPTED</Button> \n                        <Button variant=\"danger\" onClick={REJECTED} value={REJECTED}>REJECTED</Button> \n                        <Button variant=\"info\" onClick={COOKING} value={COOKING}>COOKING</Button>\n                        <Button variant=\"info\" onClick={READY_FOR_PICKUP} value={READY_FOR_PICKUP}>READY FOR PICKUP</Button>\n                        <Button variant=\"info\" onClick={COMPLETED} value={COMPLETED}>COMPLETED</Button>\n                        <div id=\"comments\"></div>\n                      \n                        </div>\n                    \n                \n               \n            )\n    \n    \n}\nexport default ActionDispatch;"]},"metadata":{},"sourceType":"module"}