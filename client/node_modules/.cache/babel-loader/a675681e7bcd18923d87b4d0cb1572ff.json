{"ast":null,"code":"var _jsxFileName = \"/home/karthik_prasanna/Desktop/arathy/frontend/src/components/customer/editprofile.js\";\nimport React, { useState, useEffect, Component } from 'react';\nimport axios from 'axios';\n\nfunction EditProfile() {\n  const [ID, setID] = useState(\"\");\n  const [username, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [type, setType] = useState('');\n  useEffect(() => {\n    let a = localStorage.getItem('DASS_USERID');\n    if (!a || a == 0 || a == \"\" || a == \"0\") setID(\"\");else {\n      setID(a);\n      axios.get('http://localhost:4000/user/' + a).then(response => {\n        setName(response.data.username);\n      });\n    }\n  });\n\n  function onChangeUsername(event) {\n    this.setName({\n      username: event.target.value\n    });\n  }\n\n  function onChangeEmail(event) {\n    this.setEmail({\n      email: event.target.value\n    });\n  }\n\n  function onChangePassword(event) {\n    this.setPassword({\n      password: event.target.value\n    });\n  }\n\n  function onChangeType(event) {\n    let type_dd = document.getElementById(\"type_dd\");\n    this.setType({\n      type: type_dd.options[type_dd.selectedIndex].innerHTML\n    });\n  }\n\n  function onSubmit(e) {\n    e.preventDefault();\n    const newUser = {\n      _id: this.state.ID,\n      username: this.state.username,\n      email: this.state.email,\n      password: window.btoa(this.state.password),\n      type: this.state.type\n    };\n    axios.post('http://localhost:4000/user/update', newUser).then(res => {\n      if (res.status == 200) {\n        this.setState({\n          username: '',\n          email: '',\n          password: '',\n          type: 'Customer'\n        });\n        document.getElementById(\"comments\").innerHTML = \"Success\";\n        document.getElementById(\"comments\").className = \"alert alert-success alert-dismissible fade show\";\n      } else {\n        document.getElementById(\"comments\").innerHTML = \"Error\";\n        document.getElementById(\"comments\").className = \"alert alert-danger alert-dismissible fade show\";\n        console.log(res.data);\n        window.location.replace(\"/login\");\n      }\n    }).catch(err => {\n      document.getElementById(\"comments\").innerHTML = \"Error\";\n      document.getElementById(\"comments\").className = \"alert alert-danger alert-dismissible fade show\";\n    });\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: this.onSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, \"Username: \"), React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    required: \"true\",\n    value: this.state.username,\n    onChange: this.onChangeUsername,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, \"Password: \"), React.createElement(\"input\", {\n    type: \"password\",\n    className: \"form-control\",\n    required: \"true\",\n    value: this.state.password,\n    onChange: this.onChangePassword,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, \"Email: \"), React.createElement(\"input\", {\n    type: \"email\",\n    className: \"form-control\",\n    required: \"true\",\n    value: this.state.email,\n    onChange: this.onChangeEmail,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, \"Type: \"), React.createElement(\"select\", {\n    id: \"type_dd\",\n    className: \"form-control\",\n    value: this.state.type,\n    onChange: this.onChangeType,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    value: \"Vendor\",\n    selected: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, \"Vendor\"), React.createElement(\"option\", {\n    value: \"Customer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, \"Customer\"))), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Create User\",\n    className: \"btn btn-primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    id: \"comments\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  })));\n}\n\nexport default EditProfile;","map":{"version":3,"sources":["/home/karthik_prasanna/Desktop/arathy/frontend/src/components/customer/editprofile.js"],"names":["React","useState","useEffect","Component","axios","EditProfile","ID","setID","username","setName","email","setEmail","password","setPassword","type","setType","a","localStorage","getItem","get","then","response","data","onChangeUsername","event","target","value","onChangeEmail","onChangePassword","onChangeType","type_dd","document","getElementById","options","selectedIndex","innerHTML","onSubmit","e","preventDefault","newUser","_id","state","window","btoa","post","res","status","setState","className","console","log","location","replace","catch","err"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,SAArC,QAAsD,OAAtD;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,SAASC,WAAT,GAAuB;AAGnB,QAAM,CAACC,EAAD,EAAKC,KAAL,IAAcN,QAAQ,CAAC,EAAD,CAA5B;AACA,QAAM,CAACO,QAAD,EAAWC,OAAX,IAAsBR,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACS,KAAD,EAAQC,QAAR,IAAoBV,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACW,QAAD,EAAWC,WAAX,IAA0BZ,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACa,IAAD,EAAOC,OAAP,IAAkBd,QAAQ,CAAC,EAAD,CAAhC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIc,CAAC,GAAGC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAR;AACA,QAAI,CAACF,CAAD,IAAMA,CAAC,IAAI,CAAX,IAAeA,CAAC,IAAE,EAAlB,IAAuBA,CAAC,IAAE,GAA9B,EACIT,KAAK,CAAC,EAAD,CAAL,CADJ,KAEK;AACDA,MAAAA,KAAK,CAACS,CAAD,CAAL;AACAZ,MAAAA,KAAK,CAACe,GAAN,CAAU,gCAAgCH,CAA1C,EACKI,IADL,CACUC,QAAQ,IAAI;AACdZ,QAAAA,OAAO,CAACY,QAAQ,CAACC,IAAT,CAAcd,QAAf,CAAP;AACH,OAHL;AAIH;AACJ,GAXQ,CAAT;;AAeA,WAASe,gBAAT,CAA0BC,KAA1B,EAAiC;AAC7B,SAAKf,OAAL,CAAa;AAAED,MAAAA,QAAQ,EAAEgB,KAAK,CAACC,MAAN,CAAaC;AAAzB,KAAb;AACH;;AACD,WAASC,aAAT,CAAuBH,KAAvB,EAA8B;AAC1B,SAAKb,QAAL,CAAc;AAAED,MAAAA,KAAK,EAAEc,KAAK,CAACC,MAAN,CAAaC;AAAtB,KAAd;AACH;;AACD,WAASE,gBAAT,CAA0BJ,KAA1B,EAAiC;AAC7B,SAAKX,WAAL,CAAiB;AAAED,MAAAA,QAAQ,EAAEY,KAAK,CAACC,MAAN,CAAaC;AAAzB,KAAjB;AACH;;AACD,WAASG,YAAT,CAAsBL,KAAtB,EAA6B;AACzB,QAAIM,OAAO,GAAGC,QAAQ,CAACC,cAAT,CAAwB,SAAxB,CAAd;AACA,SAAKjB,OAAL,CAAa;AAAED,MAAAA,IAAI,EAAEgB,OAAO,CAACG,OAAR,CAAgBH,OAAO,CAACI,aAAxB,EAAuCC;AAA/C,KAAb;AACH;;AAGD,WAASC,QAAT,CAAkBC,CAAlB,EAAqB;AACjBA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAMC,OAAO,GAAG;AACZC,MAAAA,GAAG,EAAE,KAAKC,KAAL,CAAWnC,EADJ;AAEZE,MAAAA,QAAQ,EAAE,KAAKiC,KAAL,CAAWjC,QAFT;AAGZE,MAAAA,KAAK,EAAE,KAAK+B,KAAL,CAAW/B,KAHN;AAIZE,MAAAA,QAAQ,EAAE8B,MAAM,CAACC,IAAP,CAAY,KAAKF,KAAL,CAAW7B,QAAvB,CAJE;AAKZE,MAAAA,IAAI,EAAE,KAAK2B,KAAL,CAAW3B;AALL,KAAhB;AAQAV,IAAAA,KAAK,CAACwC,IAAN,CAAW,mCAAX,EAAgDL,OAAhD,EACKnB,IADL,CACUyB,GAAG,IAAI;AACT,UAAIA,GAAG,CAACC,MAAJ,IAAc,GAAlB,EAAuB;AACnB,aAAKC,QAAL,CAAc;AACVvC,UAAAA,QAAQ,EAAE,EADA;AAEVE,UAAAA,KAAK,EAAE,EAFG;AAGVE,UAAAA,QAAQ,EAAE,EAHA;AAIVE,UAAAA,IAAI,EAAE;AAJI,SAAd;AAOAiB,QAAAA,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCG,SAApC,GAAgD,SAAhD;AACAJ,QAAAA,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCgB,SAApC,GAAgD,iDAAhD;AACH,OAVD,MAWK;AACDjB,QAAAA,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCG,SAApC,GAAgD,OAAhD;AACAJ,QAAAA,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCgB,SAApC,GAAgD,gDAAhD;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYL,GAAG,CAACvB,IAAhB;AACAoB,QAAAA,MAAM,CAACS,QAAP,CAAgBC,OAAhB,CAAwB,QAAxB;AACH;AACJ,KAnBL,EAoBKC,KApBL,CAoBWC,GAAG,IAAI;AACVvB,MAAAA,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCG,SAApC,GAAgD,OAAhD;AACAJ,MAAAA,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCgB,SAApC,GAAgD,gDAAhD;AACH,KAvBL;AAwBH;;AACD,SAEQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAM,IAAA,QAAQ,EAAE,KAAKZ,QAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,EAEI;AAAO,IAAA,IAAI,EAAC,MAAZ;AACI,IAAA,SAAS,EAAC,cADd;AAEI,IAAA,QAAQ,EAAC,MAFb;AAGI,IAAA,KAAK,EAAE,KAAKK,KAAL,CAAWjC,QAHtB;AAII,IAAA,QAAQ,EAAE,KAAKe,gBAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADJ,EAUI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,EAEI;AAAO,IAAA,IAAI,EAAC,UAAZ;AACI,IAAA,SAAS,EAAC,cADd;AAEI,IAAA,QAAQ,EAAC,MAFb;AAGI,IAAA,KAAK,EAAE,KAAKkB,KAAL,CAAW7B,QAHtB;AAII,IAAA,QAAQ,EAAE,KAAKgB,gBAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CAVJ,EAmBI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,EAEI;AAAO,IAAA,IAAI,EAAC,OAAZ;AACI,IAAA,SAAS,EAAC,cADd;AAEI,IAAA,QAAQ,EAAC,MAFb;AAGI,IAAA,KAAK,EAAE,KAAKa,KAAL,CAAW/B,KAHtB;AAII,IAAA,QAAQ,EAAE,KAAKiB,aAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CAnBJ,EA4BI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,EAEI;AACI,IAAA,EAAE,EAAC,SADP;AAEI,IAAA,SAAS,EAAC,cAFd;AAGI,IAAA,KAAK,EAAE,KAAKc,KAAL,CAAW3B,IAHtB;AAII,IAAA,QAAQ,EAAE,KAAKe,YAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAMI;AAAQ,IAAA,KAAK,EAAC,QAAd;AAAuB,IAAA,QAAQ,MAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cANJ,EAOI;AAAQ,IAAA,KAAK,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAPJ,CAFJ,CA5BJ,EAwCI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAO,IAAA,IAAI,EAAC,QAAZ;AAAqB,IAAA,KAAK,EAAC,aAA3B;AAAyC,IAAA,SAAS,EAAC,iBAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAxCJ,EA2CI;AAAK,IAAA,EAAE,EAAC,UAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA3CJ,CADJ,CAFR;AAmDH;;AAED,eAAexB,WAAf","sourcesContent":["import React, { useState, useEffect, Component } from 'react';\nimport axios from 'axios'\n\nfunction EditProfile() {\n    \n\n    const [ID, setID] = useState(\"\");\n    const [username, setName] = useState('');\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [type, setType] = useState('')\n\n    useEffect(() => {\n        let a = localStorage.getItem('DASS_USERID')\n        if (!a || a == 0|| a==\"\"|| a==\"0\")\n            setID(\"\")\n        else {\n            setID(a)\n            axios.get('http://localhost:4000/user/' + a)\n                .then(response => {\n                    setName(response.data.username)\n                })\n        }\n    }\n    )\n\n\n    function onChangeUsername(event) {\n        this.setName({ username: event.target.value })\n    }\n    function onChangeEmail(event) {\n        this.setEmail({ email: event.target.value })\n    }\n    function onChangePassword(event) {\n        this.setPassword({ password: event.target.value })\n    }\n    function onChangeType(event) {\n        let type_dd = document.getElementById(\"type_dd\")\n        this.setType({ type: type_dd.options[type_dd.selectedIndex].innerHTML })\n    }\n\n\n    function onSubmit(e) {\n        e.preventDefault()\n        const newUser = {\n            _id: this.state.ID,\n            username: this.state.username,\n            email: this.state.email,\n            password: window.btoa(this.state.password),\n            type: this.state.type\n         \n        }\n        axios.post('http://localhost:4000/user/update', newUser)\n            .then(res => {\n                if (res.status == 200) {\n                    this.setState({\n                        username: '',\n                        email: '',\n                        password: '',\n                        type: 'Customer'\n                       \n                    })\n                    document.getElementById(\"comments\").innerHTML = \"Success\"\n                    document.getElementById(\"comments\").className = \"alert alert-success alert-dismissible fade show\"\n                }\n                else {\n                    document.getElementById(\"comments\").innerHTML = \"Error\"\n                    document.getElementById(\"comments\").className = \"alert alert-danger alert-dismissible fade show\"\n                    console.log(res.data)\n                    window.location.replace(\"/login\")\n                }\n            })\n            .catch(err => {\n                document.getElementById(\"comments\").innerHTML = \"Error\"\n                document.getElementById(\"comments\").className = \"alert alert-danger alert-dismissible fade show\"\n            })\n    }\n    return (\n        \n            <div>\n                <form onSubmit={this.onSubmit}>\n                    <div className=\"form-group\">\n                        <label>Username: </label>\n                        <input type=\"text\"\n                            className=\"form-control\"\n                            required=\"true\"\n                            value={this.state.username}\n                            onChange={this.onChangeUsername}\n                        />\n                    </div>\n                    <div className=\"form-group\">\n                        <label>Password: </label>\n                        <input type=\"password\"\n                            className=\"form-control\"\n                            required=\"true\"\n                            value={this.state.password}\n                            onChange={this.onChangePassword}\n                        />\n                    </div>\n                    <div className=\"form-group\">\n                        <label>Email: </label>\n                        <input type=\"email\"\n                            className=\"form-control\"\n                            required=\"true\"\n                            value={this.state.email}\n                            onChange={this.onChangeEmail}\n                        />\n                    </div>\n                    <div className=\"form-group\">\n                        <label>Type: </label>\n                        <select\n                            id='type_dd'\n                            className=\"form-control\"\n                            value={this.state.type}\n                            onChange={this.onChangeType}\n                        >\n                            <option value='Vendor' selected>Vendor</option>\n                            <option value='Customer' >Customer</option>\n                        </select>\n                    </div>\n                    <div className=\"form-group\">\n                        <input type=\"submit\" value=\"Create User\" className=\"btn btn-primary\" />\n                    </div>\n                    <div id=\"comments\">\n                    </div>\n                </form >\n            </div >\n    );\n}\n\nexport default EditProfile"]},"metadata":{},"sourceType":"module"}