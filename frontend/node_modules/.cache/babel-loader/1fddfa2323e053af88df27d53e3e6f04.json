{"ast":null,"code":"var _jsxFileName = \"/home/karthik_prasanna/Desktop/karthik-foods/frontend/src/components/login/login.js\";\nimport React from 'react';\nimport { useState } from 'react';\nimport axios from 'axios';\n\nfunction Login(props) {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  function handleLogin(e) {\n    e.preventDefault();\n    const loginDetails = {\n      username: {\n        username\n      }.username,\n      password: window.btoa({\n        password\n      }.password)\n    };\n    var a = 0;\n    axios.post('http://localhost:4000/user/login', loginDetails).then(res => {\n      a = res.data;\n\n      if (a === 0) {\n        document.getElementById(\"comments\").className = \"alert alert-danger\";\n        document.getElementById(\"comments\").innerText = \"Invalid username/password\";\n        localStorage.setItem('DASS_USERID', 0);\n      } else {\n        document.getElementById(\"comments\").className = \"alert alert-success\";\n        document.getElementById(\"comments\").innerText = \"Successful login!\";\n        localStorage.setItem('DASS_USERID', a); // props.setID(a)\n\n        window.location.replace(\"/home\");\n      }\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \"LOGIN PAGE\"), React.createElement(\"form\", {\n    onSubmit: e => handleLogin(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \"Username: \"), React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    value: username,\n    onChange: e => setUsername(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, \"Password: \"), React.createElement(\"input\", {\n    type: \"password\",\n    className: \"form-control\",\n    value: password,\n    onChange: e => setPassword(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"LOGIN\",\n    className: \"btn btn-primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    id: \"comments\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  })));\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/karthik_prasanna/Desktop/karthik-foods/frontend/src/components/login/login.js"],"names":["React","useState","axios","Login","props","username","setUsername","password","setPassword","handleLogin","e","preventDefault","loginDetails","window","btoa","a","post","then","res","data","document","getElementById","className","innerText","localStorage","setItem","location","replace","catch","error","console","log","target","value"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { useState } from 'react'\nimport axios from 'axios'\n\nfunction Login(props) {\n\n    const [username, setUsername] = useState(\"\")\n    const [password, setPassword] = useState(\"\")\n\n    function handleLogin(e) {\n        e.preventDefault()\n        const loginDetails = {\n            username: { username }.username,\n            password: window.btoa({ password }.password)\n        }\n        var a = 0\n        axios.post('http://localhost:4000/user/login', loginDetails)\n            .then(\n                res => {\n                    a = res.data\n                    if (a === 0) {\n                        document.getElementById(\"comments\").className = \"alert alert-danger\"\n                        document.getElementById(\"comments\").innerText = \"Invalid username/password\"\n                        localStorage.setItem('DASS_USERID', 0)\n                    }\n                    else {\n                        document.getElementById(\"comments\").className = \"alert alert-success\"\n                        document.getElementById(\"comments\").innerText = \"Successful login!\"\n                        localStorage.setItem('DASS_USERID', a)\n                        // props.setID(a)\n                        window.location.replace(\"/home\")\n                    }\n                })\n            .catch(function (error) {\n                console.log(error)\n            })\n    }\n\n    return (\n        <div>\n            <h1>LOGIN PAGE</h1>\n            <form onSubmit={e => handleLogin(e)} >\n                <div className=\"form-group\">\n                    <label>Username: </label>\n                    <input type=\"text\"\n                        className=\"form-control\"\n                        value={username}\n                        onChange={e => setUsername(e.target.value)}\n                    />\n                </div>\n                <div className=\"form-group\">\n                    <label>Password: </label>\n                    <input type=\"password\"\n                        className=\"form-control\"\n                        value={password}\n                        onChange={e => setPassword(e.target.value)}\n                    />\n                </div>\n                <div className=\"form-group\">\n                    <input type=\"submit\" value=\"LOGIN\" className=\"btn btn-primary\" />\n                </div>\n                <div id=\"comments\">\n                </div>\n            </form>\n        </div>\n    )\n}\nexport default Login\n\n"]},"metadata":{},"sourceType":"module"}