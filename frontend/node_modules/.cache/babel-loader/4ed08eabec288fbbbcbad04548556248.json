{"ast":null,"code":"var _jsxFileName = \"/home/karthik_prasanna/Desktop/arathy/frontend/src/components/customer/vendors.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Button } from 'react-bootstrap';\n\nfunction ViewVendors() {\n  let vendorID = \"\";\n  const [allVendors, setAllVendors] = useState([]);\n  const [allRatings, setAllRatings] = useState([]);\n  useEffect(() => {\n    axios.get('http://localhost:4000/vendor/showall').then(response => {\n      console.log(response.data);\n      setAllVendors(response.data);\n    }); // also get the list of all ratings\n\n    axios.get('http://localhost:4000/avg_rating/').then(response => {\n      setAllRatings(response.data);\n    });\n  }, []);\n\n  function get_rating(name) {\n    if (name == \"\") {\n      return 0;\n    }\n\n    var results = allRatings.filter(function (i) {\n      return i._id == name;\n    });\n\n    if (results[0] == undefined) {\n      return 0;\n    }\n\n    console.log(results);\n    return results[0].avgRating;\n  }\n\n  function viewmore(e) {\n    vendorID = e;\n    localStorage.setItem(\"DASS_VENDORID\", vendorID);\n    console.log(vendorID);\n    window.location.replace(\"/vendor_details\");\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"table\", {\n    className: \"table table-hover thead-light table-responsive-lg \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"Name\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"Average Rating\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \"View More Details!\"))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, {\n    allVendors\n  }.allVendors.map((currentVendor, i) => {\n    return React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, currentVendor.username), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, (() => get_rating(currentVendor._id))()), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"primary\",\n      onClick: () => viewmore(currentVendor._id),\n      value: currentVendor._id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"View More Details\")));\n  }))));\n}\n\nexport default ViewVendors;","map":{"version":3,"sources":["/home/karthik_prasanna/Desktop/arathy/frontend/src/components/customer/vendors.js"],"names":["React","useState","useEffect","axios","Button","ViewVendors","vendorID","allVendors","setAllVendors","allRatings","setAllRatings","get","then","response","console","log","data","get_rating","name","results","filter","i","_id","undefined","avgRating","viewmore","e","localStorage","setItem","window","location","replace","map","currentVendor","username"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Button } from 'react-bootstrap';\n\nfunction ViewVendors() {\n    let vendorID = \"\"\n    const [allVendors, setAllVendors] = useState([])\n    const [allRatings, setAllRatings] = useState([])\n\n    useEffect(() => {\n        axios.get('http://localhost:4000/vendor/showall')\n            .then(response => {\n                console.log(response.data)\n                setAllVendors(response.data)\n            })\n              // also get the list of all ratings\n              axios.get('http://localhost:4000/avg_rating/')\n              .then(response => {\n                  setAllRatings(response.data)\n              })\n    }, []);\n\n    function get_rating(name) {\n        if (name == \"\") {\n            return 0\n        }\n        var results = allRatings.filter(function (i) {\n            return i._id == name\n        })\n        if (results[0] == undefined) {\n            return 0\n        }\n        console.log(results)\n        return (results[0].avgRating)\n    }\n\n    function viewmore(e) {\n        vendorID = e\n        localStorage.setItem(\"DASS_VENDORID\", vendorID)\n        console.log(vendorID)\n        window.location.replace(\"/vendor_details\")\n    }\n\n    return (\n        <div>\n            <table className=\"table table-hover thead-light table-responsive-lg \">\n                <thead>\n                    <tr>\n                        <th>Name</th>\n                        <th>Average Rating</th>\n                        <th>View More Details!</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {\n                        { allVendors }.allVendors.map((currentVendor, i) => {\n                            return (\n                                <tr>\n                                    <td>{currentVendor.username}</td>\n                                    <td>{(() => get_rating(currentVendor._id))()}</td>\n                                    <td><Button variant=\"primary\" onClick={() => viewmore(currentVendor._id)} value={currentVendor._id}>View More Details</Button></td>\n                                </tr>\n                            )\n                        })\n                    }\n                </tbody>\n            </table>\n        </div>\n    )\n\n}\n\nexport default ViewVendors;"]},"metadata":{},"sourceType":"module"}