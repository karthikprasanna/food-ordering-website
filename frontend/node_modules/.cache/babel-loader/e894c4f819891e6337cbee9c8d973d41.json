{"ast":null,"code":"var _jsxFileName = \"/home/karthik_prasanna/Desktop/arathy/frontend/src/components/customer/vendorDetails.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nfunction VendorDetails(props) {\n  let vendorID = \"\";\n  const [vendor, setVendor] = useState(\"\");\n  const [allRatings, setAllRatings] = useState([]);\n  const [allUsers, setAllUsers] = useState([]);\n  useEffect(() => {\n    vendorID = localStorage.getItem(\"DASS_VENDORID\");\n    console.log(\"PID:\", vendorID);\n    axios.get('http://localhost:4000/user/' + vendorID).then(response => {\n      console.log(response.data);\n      setVendor(response.data);\n      axios.get('http://localhost:4000/rating/vendor/' + vendorID).then(response => {\n        console.log(response.data);\n        setAllRatings(response.data);\n      });\n    }); // also get the list of all the users\n\n    axios.get('http://localhost:4000/user/getnames/').then(response => {\n      setAllUsers(response.data);\n    });\n  }, []);\n\n  function getname(name) {\n    if (name == \"\") {\n      return \"\";\n    }\n\n    var results = allUsers.filter(function (i) {\n      return i._id == name;\n    });\n\n    if (results[0] == undefined) {\n      return \"\";\n    }\n\n    return results[0].username;\n  }\n\n  const RatingTable = ratings => {\n    console.log(\"RATINGS\", ratings);\n    console.log(\"Ratings: \", {\n      ratings\n    }.ratings.ratings);\n\n    if (ratings == [] || ratings == undefined || ratings.ratings[0] == undefined) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, \"No ratings have been made\");\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        className: \"table table-hover thead-light table-responsive-lg \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, \"Customer\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \"Rating\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"Review\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, {\n        ratings\n      }.ratings.ratings.map((currentRating, i) => {\n        return React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, (() => getname(currentRating.customer))()), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }, currentRating.rating), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, currentRating.review));\n      }))));\n    }\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"VENDOR DETAILS\"), React.createElement(\"table\", {\n    className: \"table table-hover table-responsive-lg \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, \" Username \"), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, vendor.username)), React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, \" Email    \"), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, vendor.email)), React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, \" Address  \"), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, vendor.address)), React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, \" Phone    \"), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, vendor.phone)))), React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, \"RATINGS\"), React.createElement(RatingTable, {\n    ratings: allRatings,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }));\n}\n\nexport default VendorDetails;","map":{"version":3,"sources":["/home/karthik_prasanna/Desktop/arathy/frontend/src/components/customer/vendorDetails.js"],"names":["React","useState","useEffect","axios","VendorDetails","props","vendorID","vendor","setVendor","allRatings","setAllRatings","allUsers","setAllUsers","localStorage","getItem","console","log","get","then","response","data","getname","name","results","filter","i","_id","undefined","username","RatingTable","ratings","map","currentRating","customer","rating","review","email","address","phone"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nfunction VendorDetails(props) {\n    let vendorID = \"\"\n    const [vendor, setVendor] = useState(\"\")\n    const [allRatings, setAllRatings] = useState([])\n    const [allUsers, setAllUsers] = useState([])\n\n    useEffect(() => {\n        vendorID = localStorage.getItem(\"DASS_VENDORID\")\n        console.log(\"PID:\", vendorID)\n        axios.get('http://localhost:4000/user/' + vendorID)\n            .then(response => {\n                console.log(response.data)\n                setVendor(response.data);\n                axios.get('http://localhost:4000/rating/vendor/' + vendorID)\n                    .then(response => {\n                        console.log(response.data)\n                        setAllRatings(response.data);\n                    })\n            })\n        // also get the list of all the users\n        axios.get('http://localhost:4000/user/getnames/')\n            .then(response => {\n                setAllUsers(response.data)\n            })\n    }, []);\n\n    function getname(name) {\n        if (name == \"\") {\n            return \"\"\n        }\n        var results = allUsers.filter(function (i) {\n            return i._id == name\n        })\n        if (results[0] == undefined) {\n            return \"\"\n        }\n        return (results[0].username)\n    }\n\n    const RatingTable = (ratings) => {\n        console.log(\"RATINGS\", ratings)\n        console.log(\"Ratings: \", { ratings }.ratings.ratings)\n        if (ratings == [] || ratings == undefined || ratings.ratings[0] == undefined) {\n            return (\n                <div>No ratings have been made</div>\n            )\n        }\n\n        else {\n            return (\n                <div>\n                    <table className=\"table table-hover thead-light table-responsive-lg \">\n                        <thead>\n                            <tr>\n                                <th>Customer</th>\n                                <th>Rating</th>\n                                <th>Review</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {\n                                { ratings }.ratings.ratings.map((currentRating, i) => {\n                                    return (\n                                        <tr>\n                                            <td>{(() => getname(currentRating.customer))()}</td>\n                                            <td>{currentRating.rating}</td>\n                                            <td>{currentRating.review}</td>\n                                        </tr>\n                                    )\n                                })\n                            }\n                        </tbody>\n                    </table>\n                </div>\n            )\n        }\n    }\n\n    return (\n        <div>\n            <h1>VENDOR DETAILS</h1>\n            <table className=\"table table-hover table-responsive-lg \">\n                <tbody>\n                    <tr>\n                        <th> Username </th>\n                        <td>{vendor.username}</td>\n                    </tr>\n                    <tr>\n                        <th> Email    </th>\n                        <td>{vendor.email}</td>\n                    </tr>\n                    <tr>\n                        <th> Address  </th>\n                        <td>{vendor.address}</td>\n                    </tr>\n                    <tr>\n                        <th> Phone    </th>\n                        <td>{vendor.phone}</td>\n                    </tr>\n                </tbody>\n            </table>\n\n            <h1>RATINGS</h1>\n            <RatingTable ratings={allRatings} />\n            \n        </div>\n    )\n}\n\nexport default VendorDetails;"]},"metadata":{},"sourceType":"module"}